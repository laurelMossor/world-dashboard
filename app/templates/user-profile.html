{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block js %}
<script src="/static/js/profile-page.js"></script>
{% endblock %}

{% block content %}
<a href="/">Home</a><br><br>
<form action="/logout"><button type="submit">Logout</button></form>

    <h1>Hello, {{session["current_user_name"]}}!</h1>
<div id="user-profile-parent">
    <!-- SHOULD SAY '==', changing it to '!=' while testing -->
    {% if session["current_user_name"] == "Friend" %}
    <div>        
        <h3>Create username</h3>
        <form action="/user-profile/create-username" method="POST">
            What should we call you? <input type="text" name="create-username">
            <input type="submit">
        </form>
    </div>
    {% endif %}
    <div>
        <h2 class="centered-t">Dashboard Preferences</h2>
        <i>Warning:</i> Selecting preferences will narrow news results significantly. 
        <p>
        <h3>News Source Language</h3>
            I only want to see news sources published in 
            <form action="/user-profile/source-language" method="POST">
                <select name="language-dropdown">
                    {% for lan in NEWS_LANGUAGES %}
                        <option value="{{ lan[0] }}">{{ lan[1] }}</option>
                    {% endfor %}
                </select>
                <input type="submit" id="language-selector">
            </form><br>
            <b>Current language choice:</b> {{ session["current_user_lang"] }}
        </p>
    </div>
    <div>
        <p>
        <h3>News Keyword Search Terms</h3>
        What are you interested in? Try adding something 
        like: 'bitcoin', 'dogs', or 'Ukraine'
        to personalize your search results. 
        <form action="/user-profile/keyword-search-term" method="POST">
            One word: <input type="text" name="keyword-search">
            <input type="submit">
        </form><br>
        <b>Current search term:</b> {{ session["current_user_keyword"] }}
    </p>
</div>
    <br><br>
    <div class="centered-t">
        <form action="/user-profile/reset-preferences">
            <button type="submit" >Reset Preferences</button>
        </form>
    </div>
</div>




{% endblock %}